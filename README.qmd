---
format: gfm
---


# Software development coordination

This repository is used for coordinating all the software development activities by the ForeSITE group.

# Existing software packages

List of existing software packages that are being used by the ForeSITE group. This list was last updated on `r Sys.Date()`.

```{r}
#| label: existing_software
#| echo: false
library(readxl)
library(data.table)

existing_software <- read_excel(
    path = "data/box/ForeSITE_Tools surveyV2_ Tool D&I only.xlsx",
    skip = 2
    ) |> as.data.table()

cnames <- c(
    Tool = "Tool Name",
    Description = "Brief Description",
    Languages = "Languages",
    Repo = "GitHub Repo (new or old if existing one)",
    Contact = "Name of developer, maintainer, or key contact",
    Email = "Email of developer, maintainer or key contact"
)

setnames(existing_software, cnames, names(cnames))

# Adding link to GitHub (if it exists)
existing_software[, Repo := fifelse(
    grepl("github", Repo, ignore.case = TRUE),
    sprintf(
        "**GitHub:** [![GitHub last commit](https://img.shields.io/github/last-commit/%s)](%s)",
        gsub(".+github\\.com/", "", Repo),
        Repo
    ),
    ""
)]

# Creating a slug for the link
existing_software[, slug := gsub(" ", "-", tolower(trimws(Tool)))]
existing_software[, slug := gsub("[^a-z0-9-]+", "-", slug)]
existing_software[, slug := gsub("-+", "-", slug)]

existing_software[, Description2 := sprintf(
    "%s<br>([Learn more...](profiles.md#%s))",
    Description,
    slug
)]

dat <- existing_software[, .(
    Tool = sprintf("%s (%s)", Tool, Languages),
    Description = sprintf(
        "%s<br>%s",
        Description2,
        Repo
    )
)]

# Adding a number
dat[, N := 1:.N]
dat <- dat[, c("N", "Tool", "Description")]

knitr::kable(dat)
```

```{r}
#| label: create-profiles
#| echo: false
writer <- \(x) {
    cat(x, file = "profiles.md", append = TRUE)
}
cat("## Profiles\n\n", file = "profiles.md")
for (i in 1:nrow(existing_software)) {

    # Header
    writer(
        sprintf(
            "# %s\n\n",
            existing_software$Tool[i]
        ))
    
    # Description
    writer(
        sprintf("%s\n\n", existing_software$Description[i])
        )

    # Contact
    writer(
        sprintf(
            "Contact: %s (email: %s)\n\n",
            existing_software$Contact[i],
            existing_software$Email[i]
        )
    )

}
```